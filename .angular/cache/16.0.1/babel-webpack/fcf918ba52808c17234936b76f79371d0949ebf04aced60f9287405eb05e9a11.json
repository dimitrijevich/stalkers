{"ast":null,"code":"import { switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nclass UserService {\n  constructor(http) {\n    this.http = http;\n    this.rapidApiKey = '4b1848fb59mshb5032c5b9b389b8p1c8b53jsn209fdc9336b7';\n    this.rapidApiHost = 'instagram-looter2.p.rapidapi.com';\n  }\n  getUser(username) {\n    const apiUrl = 'https://fortressapi-ig.herokuapp.com/';\n    const ipifyUrl = 'https://api.ipify.org/?format=json';\n    return this.http.get(ipifyUrl).pipe(switchMap(result => {\n      const globalinstagramURI = result.ip;\n      const data = {\n        usr: username\n      };\n      console.log(globalinstagramURI);\n      return this.http.post(apiUrl, data, {\n        headers: {\n          'Content-Type': 'application/json',\n          'x-forwarded-for': globalinstagramURI\n        }\n      });\n    }));\n  }\n}\nUserService.ɵfac = function UserService_Factory(t) {\n  return new (t || UserService)(i0.ɵɵinject(i1.HttpClient));\n};\nUserService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UserService,\n  factory: UserService.ɵfac,\n  providedIn: 'root'\n});\nexport { UserService };","map":{"version":3,"names":["switchMap","UserService","constructor","http","rapidApiKey","rapidApiHost","getUser","username","apiUrl","ipifyUrl","get","pipe","result","globalinstagramURI","ip","data","usr","console","log","post","headers","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/Users/ilija/Documents/GitHub/stalkers/src/services/user.service.ts"],"sourcesContent":["import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n  \n  private rapidApiKey = '4b1848fb59mshb5032c5b9b389b8p1c8b53jsn209fdc9336b7';\n  private rapidApiHost = 'instagram-looter2.p.rapidapi.com';\n\n  constructor(private http: HttpClient) { }\n\n  getUser(username: string): Observable<any> {\n    const apiUrl = 'https://fortressapi-ig.herokuapp.com/';\n    const ipifyUrl = 'https://api.ipify.org/?format=json';\n  \n    return this.http.get(ipifyUrl).pipe(\n      switchMap((result: any) => {\n        const globalinstagramURI = result.ip;\n        const data = { usr: username };\n        console.log(globalinstagramURI)\n        \n        return this.http.post(apiUrl, data, {\n          headers: {\n            'Content-Type': 'application/json',\n            'x-forwarded-for': globalinstagramURI\n          }\n        });\n      })\n    );\n  }\n\n}\n"],"mappings":"AAGA,SAASA,SAAS,QAAQ,gBAAgB;;;AAG1C,MAGaC,WAAW;EAKtBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAHhB,KAAAC,WAAW,GAAG,oDAAoD;IAClE,KAAAC,YAAY,GAAG,kCAAkC;EAEjB;EAExCC,OAAOA,CAACC,QAAgB;IACtB,MAAMC,MAAM,GAAG,uCAAuC;IACtD,MAAMC,QAAQ,GAAG,oCAAoC;IAErD,OAAO,IAAI,CAACN,IAAI,CAACO,GAAG,CAACD,QAAQ,CAAC,CAACE,IAAI,CACjCX,SAAS,CAAEY,MAAW,IAAI;MACxB,MAAMC,kBAAkB,GAAGD,MAAM,CAACE,EAAE;MACpC,MAAMC,IAAI,GAAG;QAAEC,GAAG,EAAET;MAAQ,CAAE;MAC9BU,OAAO,CAACC,GAAG,CAACL,kBAAkB,CAAC;MAE/B,OAAO,IAAI,CAACV,IAAI,CAACgB,IAAI,CAACX,MAAM,EAAEO,IAAI,EAAE;QAClCK,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,iBAAiB,EAAEP;;OAEtB,CAAC;IACJ,CAAC,CAAC,CACH;EACH;;AAzBWZ,WAAW,C;mBAAXA,WAAW,EAAAoB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAXvB,WAAW,C;SAAXA,WAAW;EAAAwB,OAAA,EAAXxB,WAAW,CAAAyB,IAAA;EAAAC,UAAA,EAFV;AAAM;SAEP1B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}